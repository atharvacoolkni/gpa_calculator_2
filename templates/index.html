{% extends 'base.html' %}

{% block title %}SGPA Calculator{% endblock %}

{% block content %}
<h1>SGPA Calculator</h1>
<form method="POST" action="/calculate">
    <div id="courses">
        <div class="course-row">
            <label>Course: <input type="text" name="course"></label>
            <label>Credit: <input type="number" name="credit"></label>
            <label>Grade: 
                <select name="grade">
                    <option value="A">A</option>
                    <option value="A-">A-</option>
                    <option value="B">B</option>
                    <option value="B-">B-</option>
                    <option value="C">C</option>
                    <option value="C-">C-</option>
                    <option value="D">D</option>
                </select>
            </label>
        </div>
    </div>
    <button type="button" onclick="addCourse()">Add Course</button>
    <button type="submit">Calculate</button>
</form>

{% if sgpa is not none %}
<h2>SGPA: {{ sgpa }}</h2>
{% endif %}

<a href="{{ url_for('history') }}">View History</a>

<script>
    function addCourse() {
        const coursesDiv = document.getElementById('courses');
        const newCourse = document.createElement('div');
        newCourse.classList.add('course-row');
        newCourse.innerHTML = `
            <label>Course: <input type="text" name="course"></label>
            <label>Credit: <input type="number" name="credit"></label>
            <label>Grade: 
                <select name="grade">
                    <option value="A">A</option>
                    <option value="A-">A-</option>
                    <option value="B">B</option>
                    <option value="B-">B-</option>
                    <option value="C">C</option>
                    <option value="C-">C-</option>
                    <option value="D">D</option>
                </select>
            </label>
        `;
        coursesDiv.appendChild(newCourse);
    }
</script>
{% endblock %}









